
== IaC Tag and Trace

Prisma Cloud Code Security supports infrastructure-as-code (IaC) tags that help you trace the link for resources that are deployed from code to your cloud infrastructure. Using Yor, an open-source auto-tagging tool that supports Terraform, CloudFormation, and Serverless, that adds tags to all resource blocks in your repository. Yor uses YAML configuration to tag and trace resources, making all automated tags unique to a repository.Yor auto-creates additional tags that contain details such as:

* Git organization, repository, and the exact file containing the infrastructure-as-code (IaC) template that helped create the cloud resource.
* Timestamp of Git commits for supported cloud resources with the list of all editors and modifiers of the file.
* Custom tags created by you for your resource. These tags can be as simple as key and value pairs or a complex combination, yet Yor can auto-detect them. You can edit custom tags by detailing a tag rule on the Prisma Cloud console. Tag rule is helpful to define resources that impact the cost and ownership of any third-party resources within your environment.

If you do have an existing tag management strategy you can choose to replicate it using tag rules on the Prisma Cloud console.
Yor has another capability that is especially helpful for an infrastructure-as-code (IaC) environment, yor_trace. Yor trace is a unique tag created for every runtime resource that helps you locate the specific resource within a commit, making it extremely easy for you to execute drift detections and identify teams and resource owners to help triage a fix in the most time and cost-effective way. Yor trace tags are accessible for you on the Prisma Cloud console, where you can choose to enable or disable them. Yor scan runs for every resource, and if any resource does not comply with a tag rule, a PR (pull request) is auto-created for the repository. You can access your version control system to fix the tag compliance. A new defined tag and tag rules is applied to all existing and new resources for selected repositories and Yor will create a PR for all resources.

[.task]

=== Manage Tags

For governance and monitoring or enforcement of policies for provisioned resources, you can manage tags and tag rules for all repositories integrated on Prisma Cloud . You can enable, disable, and edit tags for any cloud resource, with the exception of auto-generated trace tags (yor_trace) on the Prisma Cloud console.

[.procedure]

. Access your resource repository.
.. Select *Code Security > Projects* and then select a repository.

. Manage tags for a repository.
.. Select *More options* and then select *Manage tags*.
+
image::tag.png[width=600]
+
A list of tags appears.

* For both auto-generated tags and custom tags.
+
** *Enable*
+
Enable a tag to run scans on all resources in the repositories assigned to the tag.
** *Disable*
+
Disable a tag for future resource scans in the repositories. A disabled tag continues to be listed on the Prisma Cloud console and any previous change made using the tag such as an automated Pull request (PR) will not be reverted.

* Only for custom tags.
+
** *Edit*
+
Edit a custom tag for all  your resources  in the repositories.
+
NOTE: Enable an edited tag before a scan.

** *Clone*
+
Clone tag and tag rules for selected repositories.
** *Delete*
+
Delete tags from Prisma Cloud console. Any previous change made using the tag such as an automated Pull request (PR) or Clone, will not be reverted.

. Add a tag rule to the repositories.


