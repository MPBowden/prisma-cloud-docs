:topic_type: task

[.task]
== Add GitLab Self-Managed to Prisma Cloud Code Security

Integrating Prisma Cloud with GitLab Self-Managed  makes it possible for Cloud DevSecOps  to scan your Infrastructure-as-code files (Terraform and CloudFormation) and monitor configuration issues in development.


[.procedure]

. Begin the GitLab Self-Managed repository in Prisma Cloud

.. Select *Settings > Repositories > GitLab Self-Managed*.
+
//TODO: image::.png[width=800]

.. Enter your GitLab Self-Managed domain, for example, gitlab.my_company.com, then *Register*. 
+
//TODO: image::.png[width=800]

.. Copy Application Name and Redirect URI from the *Register OAUTH app*.
+
//TODO: image::.png[width=800]

. Register Prisma Cloud in  GitLab Self-Managed

.. Paste the copied values for Name and Redirect URI from the previous step in Prisma Cloud DevSecOps. Select *api*, and *Save application*.
+
//TODO: image::.png[width=800]

.. Copy the Application ID and Secret values.
+
//TODO: image::.png[width=800]

. Authorize Prisma Cloud DevSecOps

.. Paste the copied values in the Application ID and Secret fields, then Authorize.
+
//TODO: image::.png[width=800]

.. Authorize Prisma Cloud DevSecOps from GitLab Self-Managed.
+
//TODO: image::.png[width=800]

.. Select the relevant repositories and click *Next*.
+
//TODO: image::.png[width=800]

.. Select *Done*, when the message New account successfully configured displays.
+
//TODO: image::.png[width=800]
+
NOTE: After the next GitLab Self-Managed  scan, the scanned repository will appear in the *Repositories* grid. 




. Add the Github Server repository on Prisma Cloud

.. Select 

.. Enter your GitHub Server domain, for example, github.my_company.com, to *Register*.
+
//TODO: image::.png[width=800]

.. Copy the Application Name, Homepage URL and Authorization Callback URL to complete the registration process.
+
//TODO: image::.png[width=800]

. Register Prisma Cloud in Github Server.

.. Paste the copied values for Application Name, Homepage URL and Authorization Callback URL from the Register OAUTH app step and select *Register Application*.
+
//TODO: image::.png[width=800]
+
The details of the new OAUTH app and Prisma CloudCode Security opens in a new tab.

.. Copy the Client ID and Client Secret values.
+
//TODO: image::.png[width=800]

. Authorize Prisma Cloud

.. Paste the copied values of Client ID and Client Secret (from GitHub Server, as shown above) and *Authorize*. 
+
//TODO: image::.png[width=800]

.. Authorize Prisma Cloud from the GitHub Server.

.. Select the relevant repositories and click *Next*.
+
//TODO: image::.png[width=800]

.. Click *Done*, when the message New account successfully configured displays.
+
After the next scan, the GitHub Server repositories that are scanned display under *Settings > Repositories*. 
