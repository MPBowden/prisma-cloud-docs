:topic_type: task

[.task]
== Add Bitbucket to Prisma Cloud Code Security

Integrating Prisma Cloud with Bitbucket makes it possible for Cloud DevSecOps to scan your Infrastructure-as-code files (Terraform and CloudFormation) and monitor configuration issues in development.

* Setup access to specific Bitbucket repositories.
+
As a best practice, enable access to all your Bitbucket repositories to ensure that yourTerraform and CloudFormation files can be scanned for adherence to security and compliance checks. If you want to enable access to the whole workspace, continue to step 2.
However, if you want to restrict access to only a set of specified repositories in your Bitbucket Workspace, complete the following setup on Bitbucket.

Choose a Bitbucket user.

    * The user can be an existing user or a new user you created for this purpose. For example, Prisma Cloud DevSecOps@mycompany.com.
    * In Repository Settings in Bitbucket, give the user Write access to the relevant repositories. Bitbucket sends a confirmation email to the user. Access the email and confirm that you authorize access.
    * Log in to Bitbucket with the relevant user credentials before you add Bitbucket to Prisma Cloud. Prisma Cloud uses OAuth for authorizing access,you must log in to Bitbucket with the relevant user credentials to ensure that the authentication is successful.

[.procedure]

. Select *Settings > Repositories > Add Repository*.
+
image::add-repository.png[width=600]

. Select *Bitbucket*
+
image::bitbucket-1.png[width=600]

. Configure your Bitbucket account on Prisma Cloud Code Security and then select *Next*.
+
image::bitbucket-2.png.png[width=575]

. Review the permissions and authorize Prisma Cloud to access your Bitbucket organization.

. Select the repositories and then select *Next*.
+
image::bitbucket-3.png[width=575]

. *New account successfully configured* message appears after you have successfully set up the configurations and then select *Done* to complete adding GitHub to Prisma Cloud Code Security.
+
image::bitbucket-4.png[width=575]
+
NOTE: Prisma Cloud Code Security supports Code Insights. After enabling the integration , you can view a full assessment report for every new pull request that contains Infrastructure-as-Code.
+
Your configured Bitbucket repositories will appear on the *Repositories* page. On your next Bitbucket scan, the scan results will include the new configured repositories. Access *Code Security* to view the scanned results.